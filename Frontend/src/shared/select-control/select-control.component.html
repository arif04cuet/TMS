<nz-form-item class="field-container">
    <div>
        <label [class.required]="mandatory">{{label}}</label>
    </div>
    <nz-form-control nzHasFeedback [nzErrorTip]="errorTemplate">
        <nz-select [nzDropdownRender]="indicatorTemplate" (nzScrollToBottom)="loadMore()" [formControl]="formControl" class="btn-custom" [nzLoading]="loading" nzShowSearch (ngModelChange)="onValueChange($event)" [nzMode]="mode"
            nzAllowClear nzPlaceHolder="Select {{label}}">
            <nz-option *ngFor="let p of items" [nzLabel]="p[labelKey]" [nzValue]="p.id">
            </nz-option>
        </nz-select>
    </nz-form-control>
    <span *ngIf="infoText">
        <i nz-icon nzType="info-circle" nzTheme="outline"></i>
        <span> {{infoText}}</span>
    </span>
</nz-form-item>
<ng-template #errorTemplate let-control>
    {{control?.errors?.message}}
</ng-template>

<ng-template #indicatorTemplate>
    <nz-spin *ngIf="loading" nzSimple [nzIndicator]="spinTemplate"></nz-spin>
</ng-template>

<ng-template #spinTemplate>
    <div style="display: flex; align-items: center; justify-content: center; padding: 0 3px;">
        <i nz-icon nzType="loading" style="font-size: 28px;"></i>
    </div>
</ng-template>
